
- alias: 'Alarm clock: Weather notification'
  id: "alarm_clock_weather_notification"
  trigger:
    platform: template
    value_template: >
      {{ states("sensor.time")[0:5] == states("sensor.weather_notifitcations") }}
  condition:
    - condition: state
      entity_id: input_boolean.vacation_mode
      state: "off"
  action:
    service: telegram_bot.send_message
    data:
      message: "
         ** {{ states('sensor.yandex_weather_condition_yandex') }} ** \n
         ðŸŒ¡ï¸ {{ state_attr('weather.yandex_weather','temperature') }}{{ state_attr('weather.yandex_weather','temperature_unit') }}, Ð¿Ð¾ Ð¾Ñ‰ÑƒÑ‰ÐµÐ½Ð¸ÑŽ {{ state_attr('weather.yandex_weather','feels_like') }}{{ state_attr('weather.yandex_weather','temperature_unit') }} \n
         ðŸ’¨ {{ states('sensor.wind_description') }} {{ state_attr('weather.yandex_weather','wind_speed') / 3.6 }}Ð¼/Ñ
         
         "


- alias: "Alarm clock: Sunrise wake up"
  id: "alarm_clock_sunrise"
  trigger:
    platform: template
    value_template: >
      {{ states("sensor.time")[0:5] == states("sensor.wake_up_light_start_time") }}
  condition:
    condition: state
    entity_id: input_boolean.alarm_clock
    state: "on"
  action:
    - service: input_boolean.turn_on
      entity_id: input_boolean.wake_up_light



# - alias: "Alarm clock: Actions exactly at alarm time"
#   trigger:
#     - platform: template
#       value_template: >
#         {{ states("sensor.time")[0:5] == states("sensor.alarm_clock") }}
#   action:
        # Ð¼Ð¾Ð¶Ð½Ð¾ Ð²Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ€ÐµÐ¶Ð¸Ð¼ ÑÐ½Ð° Ð·Ð´ÐµÑÑŒ, Ð½Ð¾ Ð»ÑƒÑ‡ÑˆÐµ Ð²Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· shortcuts, ÐºÐ¾Ð³Ð´Ð° ÑÑ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ðµ wake up
    # - service: input_select.select_option
    #   entity_id: input_select.sleep_mode
    #   data:
    #     option: "off"



- alias: "Alarm clock: Charging time"
  trigger:
    platform: template
    value_template: >
      {{ states("sensor.time")[0:5] == states("sensor.charging_time") }}
  condition:
    condition: state
    entity_id: input_boolean.alarm_clock
    state: "on"
  action:
    - service: switch.turn_on
      entity_id: switch.smart_plug

